/*! Built with http://stenciljs.com */
const{h:t}=window.airship;class e{constructor(){this.sections=[]}render(){return[this.renderTabs(),this.renderContent()]}renderContent(){return t("main",{class:"as-app-content"},t("slot",null))}componentWillLoad(){this.sections=this.getContentSections()}componentDidLoad(){this.load.emit()}getSections(){return this.sections}setVisible(t){const e=this.sections.find(e=>e.name===t);e&&this.setActive(e)}renderTabs(){const e=this.sections.map((e,a)=>{if(!e.element)return;const s={"as-tabs__item":!0,"as-tabs__item--active":e.active};return t("button",{onClick:()=>this.setActive(e),role:"tab",class:s},e.name||a)});return t("div",{role:"tablist",class:"as-toolbar-tabs as-tabs as-tabs--xl"},e)}setActive(t){t.active||(this.disableActiveSection(),t.activeAction?t.activeAction(t):(t.element.classList.add(t.activeClass||a[t.type]),t.active=!0),this.activeSection=t,this.sections=[...this.sections],this.sectionChange.emit(t))}disableActiveSection(){this.activeSection&&(this.activeSection.disableAction?this.activeSection.disableAction(this.activeSection):(this.activeSection.element.classList.remove(this.activeSection.activeClass||a[this.activeSection.type]),this.activeSection.active=!1))}getContentSections(){const t=[this.getMap(),...this.getSidebars(),...this.getPanels(),this.getBottomBar()];return t.length&&(t.sort((t,e)=>t.tabOrder-e.tabOrder),this.setActive(t[0])),t}getMap(){const t=this.element.querySelector(".as-map-wrapper");return{activeAction:function(t){t.active=!0},disableAction:function(t){t.active=!1},element:t,name:t.getAttribute("data-name")||"Map",tabOrder:t.getAttribute("data-tab-order")||0,type:"map"}}getSidebars(){return Array.from(this.element.querySelectorAll(".as-sidebar")).map((t,e)=>({activeClass:`as-sidebar--${t.classList.contains("as-sidebar--left")?"left":"right"}--visible`,element:t,name:t.getAttribute("data-name")||`Sidebar ${e}`,tabOrder:t.getAttribute("data-tab-order")||0,type:"sidebar"}))}getPanels(){return Array.from(this.element.querySelectorAll(".as-panels")).map((t,e)=>({element:t,name:t.getAttribute("data-name")||`Panel ${e}`,tabOrder:t.getAttribute("data-tab-order")||0,type:"panels"}))}getBottomBar(){const t=this.element.querySelector(".as-bottom-bar");return{element:t,name:t&&t.getAttribute("data-name")||"Bottom Bar",tabOrder:t&&t.getAttribute("data-tab-order")||0,type:"bottomBar"}}static get is(){return"as-application-content"}static get properties(){return{element:{elementRef:!0},getSections:{method:!0},sections:{state:!0},setVisible:{method:!0}}}static get events(){return[{name:"load",method:"load",bubbles:!0,cancelable:!0,composed:!0},{name:"sectionChange",method:"sectionChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"\@import url(https://fonts.googleapis.com/css?family=Overpass+Mono|Roboto:300,400,500,700);\@import url(https://fonts.googleapis.com/css?family=Overpass+Mono|Roboto:300,400,500,700);as-application-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}"}}const a={bottomBar:"as-bottom-bar--visible",panels:"as-panels--visible"};export{e as AsApplicationContent};